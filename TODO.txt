code bubble sort history factory
