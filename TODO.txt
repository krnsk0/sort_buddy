correctly calculate maxLength and constrain forward steps
